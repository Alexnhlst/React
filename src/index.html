<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Components</title>
    <script src="https://unpkg.com/react@16.4.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.4.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/babel">
      // The main selling poin of React is its component system
      // components are used to encapsulate elements and their behaviour
      // see them as a mix of controller and view of MVC

      // Here we use stand alone elements and some data
      let data = "world";
      let reactElement = (
        <div>
          <h1>Hello</h1>
          <h2>{data}</h2>
        </div>
      );

      // Here the elements are encapsulated in a simple component function
      // They have to start with a capital letter and return exactly ONE root element with or
      // without nested elements (before React 16)
      function MyComponent() {
        let data = "world";
        return (
          <div>
            <h1>Hello</h1>
            <h2>{data}</h2>
          </div>
        );
      }

      // Since React 16, components can return an array of elements as well. In doing so, no additional
      // wrapper element is created. One caveat is that, similarly to what we do when rendering an array, we have to add a unique key
      // to each element in the array
      function MyComponent() {
        let data = "world";
        return [<h1 key="hello">Hello</h1>, <h2 key="data">{data}</h2>];
      }

      // Since React 16.2, we can use special "wrapper" components called fragments that behave the samme (no extra wrapper element created)
      // but remove the need to explicitly set keys (fragments do this under the hoods) and commas
      function MyComponent() {
        let data = "world";
        return (
          <React.Fragment>
            <h1>Hello</h1>
            <h2>{data}</h2>
          </React.Fragment>
        );
      }

      // A component function can be used like an element
      reactElement = <MyComponent />;

      // This translates to a React.createElement() call
      // the null indicates that no properties have been set
      reactElement = React.createElement(MyComponent, null);

      // For reference, a react-internal <div> tag
      let anotherElement = <div />;
      // gets converted to
      anotherElement = React.createElement("div", null);

      let renderTarget = document.getElementById("app");

      ReactDOM.render(reactElement, renderTarget);
    </script>
  </body>
</html>
